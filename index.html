<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>新闻聚合页面</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: white;
    color: black;
    transition: background-color 0.3s, color 0.3s;
  }
  body.dark {
    background-color: #121212;
    color: white;
  }
  header {
    background: #333;
    color: white;
    padding: 10px;
  }
  header .wrap {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .controls {
    display: flex;
    gap: 10px;
  }
  button, select {
    padding: 5px;
    border: none;
    border-radius: 4px;
  }
  a { color: inherit; text-decoration: none; }
</style>
</head>
<body>
<header>
  <div class="wrap">
    <div>
      <h1 data-i18n="title">欢迎来到我的新闻聚合页面</h1>
    </div>
    <div class="controls">
      <select id="languageSwitcher">
        <option value="zh">中文</option>
        <option value="en">English</option>
        <option value="es">Español</option>
        <option value="fr">Français</option>
      </select>
      <button id="themeToggle">🌙</button>
    </div>
  </div>
</header>

<main style="padding:20px;">
  <p data-i18n="description">这里是网站的简介内容。</p>
  <section>
    <h2 data-i18n="news_title">最新新闻</h2>
    <ul>
      <li><a href="#" data-i18n="bbc">BBC Mundo</a></li>
      <li><a href="#" data-i18n="cnn">CNN en Español</a></li>
      <li><a href="#" data-i18n="univision">Univision Noticias</a></li>
    </ul>
  </section>
  <button data-i18n="button">点击这里</button>
</main>

<script>
const translations = {
  zh: {
    title: "欢迎来到我的新闻聚合页面",
    description: "这里是网站的简介内容。",
    news_title: "最新新闻",
    bbc: "BBC Mundo",
    cnn: "CNN 西语频道",
    univision: "Univision Noticias",
    button: "点击这里"
  },
  en: {
    title: "Welcome to my news aggregator",
    description: "This is the introduction of the site.",
    news_title: "Latest News",
    bbc: "BBC Mundo",
    cnn: "CNN en Español",
    univision: "Univision News",
    button: "Click here"
  },
  es: {
    title: "Bienvenido a mi página de noticias",
    description: "Esta es la introducción del sitio.",
    news_title: "Últimas Noticias",
    bbc: "BBC Mundo",
    cnn: "CNN en Español",
    univision: "Univision Noticias",
    button: "Haz clic aquí"
  },
  fr: {
    title: "Bienvenue sur ma page d'actualités",
    description: "Voici l'introduction du site.",
    news_title: "Dernières nouvelles",
    bbc: "BBC Mundo",
    cnn: "CNN en Español",
    univision: "Univision Nouvelles",
    button: "Cliquez ici"
  }
};

function changeLanguage(lang) {
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    el.textContent = translations[lang][key];
  });
  localStorage.setItem("lang", lang);
}

function toggleTheme() {
  document.body.classList.toggle("dark");
  const isDark = document.body.classList.contains("dark");
  localStorage.setItem("theme", isDark ? "dark" : "light");
  document.getElementById("themeToggle").textContent = isDark ? "☀️" : "🌙";
}

document.getElementById("languageSwitcher").addEventListener("change", function() {
  changeLanguage(this.value);
});
document.getElementById("themeToggle").addEventListener("click", toggleTheme);

const savedLang = localStorage.getItem("lang") || "zh";
document.getElementById("languageSwitcher").value = savedLang;
changeLanguage(savedLang);

const savedTheme = localStorage.getItem("theme") || "light";
if (savedTheme === "dark") {
  document.body.classList.add("dark");
  document.getElementById("themeToggle").textContent = "☀️";
}
</script>
</body>
</html>
